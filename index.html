<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Joystick-Controlled Sphere</title>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
  </head>
  <body>
    <a-scene>
      <!-- Camera -->
      <a-camera position="0 1.6 0">
        <!-- Sphere inside the camera -->
        <a-sphere 
          id="sphere" 
          src="1.JPG" 
          radius="5000" 
          material="side: double; shader: flat" 
          position="0 0 0">
        </a-sphere>
      </a-camera>

      <!-- Right-hand controller -->
      <a-entity 
        id="rightController" 
        oculus-touch-controls="hand: right" 
        vive-controls="hand: right" 
        windows-motion-controls="hand: right" 
        generic-tracked-controller="hand: right">
      </a-entity>
    </a-scene>

    <script>
      // Get references to the sphere and controller
      const sphere = document.querySelector('#sphere');
      const rightController = document.querySelector('#rightController');

      // Track the current rotation of the sphere
      let sphereRotation = { x: 0, y: 0 };

      // Listen for joystick movement
      rightController.addEventListener('axismove', (event) => {
        const [x, y] = event.detail.axis;

        // Update the sphere's rotation based on joystick input
        sphereRotation.y -= x * 2; // Horizontal rotation
        sphereRotation.x -= y * 2; // Vertical rotation (optional, comment out if not needed)

        // Apply the updated rotation to the sphere
        sphere.setAttribute('rotation', `${sphereRotation.x} ${sphereRotation.y} 0`);
      });
    </script>
  </body>
</html>
