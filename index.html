<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Gamepad Debug</title>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
  </head>
  <body>
    <a-scene>
      <!-- Text to show joystick data -->
      <a-text 
        id="joystickDisplay" 
        position="-1 2 -3" 
        color="black" 
        value="Awaiting joystick input...">
      </a-text>
    </a-scene>

    <script>
      const joystickDisplay = document.querySelector('#joystickDisplay');

      // Check gamepad data at regular intervals
      setInterval(() => {
        const gamepads = navigator.getGamepads();

        if (gamepads) {
          const controller = gamepads[0] || gamepads[1]; // Assuming right-hand controller
          if (controller) {
            const { axes, buttons } = controller;
            console.log('Gamepad Axes:', axes);
            joystickDisplay.setAttribute(
              'value',
              `Axes:\nX=${axes[2]?.toFixed(2)}\nY=${axes[3]?.toFixed(2)}`
            );
          } else {
            joystickDisplay.setAttribute('value', 'No controller connected.');
          }
        } else {
          joystickDisplay.setAttribute('value', 'No gamepad detected.');
        }
      }, 500);
    </script>
  </body>
</html>
